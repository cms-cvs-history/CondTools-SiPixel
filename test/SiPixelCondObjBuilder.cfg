process PEDESTALS = {

  # MessageLogger
  include "FWCore/MessageService/data/MessageLogger.cfi"

  source = EmptySource {
	untracked int32 maxEvents = 1
	untracked uint32 firstRun = 1 
	untracked uint32 numberEventsInRun = 1
  }

  # Initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  module SiPixelCondObjBuilder= SiPixelCondObjBuilder {

    # Max number of detector modules (whole detector > 1500)
	 int32  numberOfModules = 2000
    # Append DataBase payload to existing file
         untracked bool   appendMode = false
    # Calibration from input file or random number generator
	 bool   fromFile = true
	 string fileName = "../macros/phCalibrationFit_C0.dat"
    # Parameters for random number generator
	 double meanPed  = 100.0
	 double rmsPed   =   5.0
         double meanGain =  25.0
	 double rmsGain  =   5.0
  }


  service = PoolDBOutputService{
         string connect           = "sqlite_file:prova.db"    
         untracked string catalog = "file:prova_dbcatalog.xml"
         string timetype          = "runnumber"    
         untracked bool loadBlobStreamer = true  
         VPSet toPut={ { untracked string containerName = "SiPixelGainCalibration" string tag ="mytest_p"} } 
  }

  path p = { SiPixelCondObjBuilder }

  module print = AsciiOutputModule {}
  endpath ep = { print }
}