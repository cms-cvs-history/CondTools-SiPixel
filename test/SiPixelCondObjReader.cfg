process PixelDBReader = {

# MessageLogger
include "FWCore/MessageService/data/MessageLogger.cfi"

   source = EmptySource {
	untracked int32 maxEvents = 1
	untracked uint32 firstRun = 1 
	untracked uint32 numberEventsInRun = 10
   }

   service = Timing {}
   service = SimpleMemoryCheck {
     untracked int32 ignoreTotal = 0 # default is one
   } 

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # SiPixelGainCalibrationService
  include "CondTools/SiPixel/data/SiPixelGainCalibrationService.cfi"

   es_source = PoolDBESSource { 
	VPSet toGet = {{ string record = "SiPixelGainCalibrationRcd" string tag = "mytest_p" } }
	string connect = "sqlite_file:../data/prova.db"    
        untracked string catalog = "file:prova_dbcatalog.xml"
        string timetype = "runnumber" 
        untracked uint32 messagelevel = 3
	untracked bool loadBlobStreamer = true
   }

   module  SiPixelCondObjReader =  SiPixelCondObjReader { 
	string fileName = "histos.root"
	using SiPixelGainCalibrationServiceParameters
   }

   path p = { SiPixelCondObjReader }
   module print = AsciiOutputModule {}
   endpath ep = { print }

}