// write_template.cfg, by Freya Blekman, fblekman@lepp.cornell.edu
// DO NOT EDIT THIS FILE, it is intended for use with the fill_db script in the same directory!
process PixelCalibTemplate = {

    source = EmptyIOVSource{ 
	string timetype="runnumber"
	untracked uint32 firstRun = 1
        untracked uint32 lastRun = 1
        uint32 interval = 1
    }
    
   untracked PSet maxEvents = {untracked int32 input = 1}
   include "CondCore/DBCommon/data/CondDBCommon.cfi"
#  use either the oracle or sql db
    # so this one
#  replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_TIF_PIXELS"
#  replace CondDBCommon.DBParameters.authenticationPath = "/afs/cern.ch/cms/DB/conddb"
    # or this one
   replace CondDBCommon.connect = "sqlite_file:siPixelCalibConfiguration.db"
   replace CondDBCommon.DBParameters.authenticationPath="."

   replace CondDBCommon.timetype = "runnumber"
   replace CondDBCommon.DBParameters.messageLevel = 0

##########
# MAKE REALLY SURE THE tag, run number and input file are matched!!!
##########

   service = PoolDBOutputService {
	using CondDBCommon
	VPSet toPut = { { 
			string record = "SiPixelCalibConfigurationRcd"
			string tag = "PIXELTAG"
			} }
   }
   module SiPixelCalibConfigurationObjectMaker = SiPixelCalibConfigurationObjectMaker{
	untracked string inputFileName = "PIXELFILENAME"
   }
   path p1 = {SiPixelCalibConfigurationObjectMaker}
}
